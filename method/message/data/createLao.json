{
    "$comment": "By sending the lao/create message to the organizer’s server’s default channel (“/root”), the main channel of the LAO will be created with the identifier id. At that point, any of the clients, including the organizer, can subscribe to the channel id and send messages over it.",
    "$comment": "The server is expected to verify the data, such that the last modified timestamp is equal to the creation timestamp, that the timestamp is reasonably recent with respect to the server’s clock, that the attestation is valid, etc.",
    "$comment": "Upon successful creation, the server/organizer is expected to broadcast the LAO state to all witnesses and clients (see “LAO state broadcast”).",
    "$schema": "http://json-schema.org/draft/2019-09/schema#",
    "$id": "http://pop2020.dedis.ch/createLao.json",
    "type": "object",
    "definition" : {
        "data": {
            "description": "base64 representation of the data",
            "type": "object",
            "$comment": "must be in base64",
            "properties": {
                "object": {
                    "description": "object on which to perform the action",
                    "type": "string",
                    "enum": ["lao"]
                }, 
                "action": {
                    "description": "action to perform on the object",
                    "type": "string",
                    "enum": ["create"]
                }, 
                "id": {
                    "description": "Hash,SHA256(organizer||creation||name)",
                    "type": "string"
                }, 
                "name": {
                    "description": "name of the LAO",
                    "type": "string"
                }, 
                "creation": {
                    "description": "timestamp of the creation time",
                    "type": "integer"
                }, 
                "last_modified": {
                    "description": "timestamp of the last modification time",
                    "type": "integer"
                }, 
                "organizer": {
                    "description": "Public key of organizer",
                    "type": "string"
                }, 
                "witnesses" : {
                    "description": "list of Public keys of witnesses ",
                    "type": "array",
                    "items": {
                        "$comment": "initially empty array, will be filled on further message. Not 100% sure whether it should be in the required list (but allowed to be empty) or not",
                        "type": "string"
                    }
                }
            },
            "required": ["object", "action", "id", "name", "creation", "last_modified", "organizer", "witnesses"]
        }
    }
}