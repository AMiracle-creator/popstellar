{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/dedis/popstellar/master/protocol/query/method/message/data/dataPostTransaction.json",
  "title": "Post a digital cash transaction",
  "type": "object",
  "properties": {
    "object": {
      "const": "transaction"
    },
    "action": {
      "const": "post"
    },
    "transaction": {
      "Version": {
        "type": "integer",
        "$comment": "The version of the transaction inputs"
      },
      "TxIn": {
        "type": "array",
        "$comment": "[Array[Objects]] array of output transactions to use as inputs",
        "items": {
          "type": "object",
          "$comment": "Object representing a transaction output to use as an input for this transaction",
          "properties": {
            "TxOutHash": {
              "type": "string",
              "contentEncoding": "base64",
              "$comment": "Previous (to-be-used) transaction hash"
            },
            "TxOutIndex": {
              "type": "bytes",
              "length": "4",
              "$comment": "index of the previous to-be-used transaction"
            },
            "Script": {
              "type": "object",
              "$comment": "The script describing the TxOut unlock mechanism",
              "properties": {
                "Type": {
                  "type": "string",
                  "$comment": "Type of script"
                },
                "PubkeyHash": {
                  "type": "string",
                  "contentEncoding": "base64",
                  "$comment": "Hash of the recipient’s public key"
                }
              }
            },
            "Sequence": {
              "type": "bytes",
              "length": "4",
              "$comment": "Set as 0xFFFFFFFF"
            }
          }
        }
      },
      "TxOut": {
        "type": "array",
        "$comment": "[Array[Objects]] array of outputs from this transactions",
        "items": {
          "type": "object",
          "$comment": "Object representing an output of this transaction",
          "properties": {
            "Value": {
              "type": "bytes",
              "length": "8",
              "$comment": "the value of the output transaction, expressed in miniLAOs"
            },
            "Script": {
              "type": "object",
              "$comment": "The script describing the unlock mechanism",
              "properties": {
                "Type": {
                  "type": "string",
                  "$comment": "Type of script"
                },
                "PubkeyHash": {
                  "type": "string",
                  "contentEncoding": "base64",
                  "$comment": "Hash of the recipient’s public key"
                },
                "Sig": {
                  "type": "string",
                  "contentEncoding": "basae64",
                  "$comment": "Signature on all txins and txouts using the recipient's private key"
                }
              }
            }
          }
        }
      },
      "LockTime": {
        "type": "bytes",
        "length": "4"
      }
    }
  },
  "required": ["object", "action", "transaction"]
}