{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://raw.githubusercontent.com/dedis/student_21_pop/master/protocol/query/query.json",
	"title": "Match a custom JsonRpc 2.0 query message",
	"description": "Match a client query",
	"type": "object",
	"allOf": [
		{
			"maxProperties": 3,
			"$comment": "Note: can't use \"additionalProperties: false\" due to \"allOf\""
		},
		{
			"properties": {
				"queryID": {
					"type": "integer",
					"description": "RequestID will be used to match the request to an answer"
				}
			},
			"required": [
				"queryID"
			]
		},
		{
			"oneOf": [
				{
					"$ref": "method/subscribe.json"
				},
				{
					"$ref": "method/unsubscribe.json"
				},
				{
					"$ref": "method/catchup.json"
				},
				{
					"$ref": "method/broadcast.json"
				},
				{
					"$ref": "method/publish.json"
				}
			]
		}
	]
}