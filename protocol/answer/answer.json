{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://raw.githubusercontent.com/dedis/student_21_pop/master/protocol/answer/answer.json",
	"title": "Match a custom JsonRpc 2.0 message answer",
	"description": "Match a positive or negative server answer",
	"type": "object",
	"properties": {
		"requestID": {
			"oneOf": [
				{
					"type": "integer"
				},
				{
					"type": "null"
				}
			],
			"description": "The requestID is used to match a query to an answer. If there was an error in detecting the id, it must be null."
		},
		"payload": {
			"type": "object",
			"oneOf": [
				{
					"properties": {
						"name": {
							"type": "string",
							"const": "error"
						},
						"message": {
							"$ref": "negativeAnswer/error.json"
						}
					}
				},
				{
					"properties": {
						"name": {
							"type": "string",
							"const": "general"
						},
						"message": {
							"$ref": "positiveAnswer/positiveAnswerGeneral.json"
						}
					}
				},
				{
					"properties": {
						"name": {
							"type": "string",
							"const": "catchup"
						},
						"message": {
							"$ref": "positiveAnswer/positiveAnswerCatchup.json"
						}
					}
				}
			]
		}
	},
	"additionalProperties": false,
	"required": [
		"requestID",
		"payload"
	],
	"$comment": "Note: required fields: (\"jsonrpc\" \\and (\"result\" \\or \"error\") \\and \"id\")"
}